{% extends 'base.html' %} {% load static %} {% block content %}

<div class="container">
  <h1 class="text-6xl font-bold">About Us</h1>
  <p class="text-lg mt-4 text-gray-200">
    Welcome to your personalized Spotify Wrapped experience! Unlike the official Spotify
    Wrapped, which only comes around once a year, this project allows you to
    create your own Wrapped any time you want. Discover your top songs, artists,
    and genres with flexible time spans that you can adjust to see your
    listening habits over any period! Customize your Wrapped to capture the music moments that matter most
    to you and share your unique profile whenever you like!
  </p>

  <!-- Feedback Section -->
  <div class="feedback-section">
    <h2>Have Feedback?</h2>
    <form method="POST">
      {% csrf_token %}
      <textarea
        name="text"
        placeholder="Send us suggestions here!"
        style="color: black; background-color: white"
      ></textarea>

      <div class="stars" id="starRating">
        <span class="star" data-value="1">&#9734;</span>
        <span class="star" data-value="2">&#9734;</span>
        <span class="star" data-value="3">&#9734;</span>
        <span class="star" data-value="4">&#9734;</span>
        <span class="star" data-value="5">&#9734;</span>
      </div>

      <input type="hidden" name="rating" id="ratingInput" value="" />

      <button type="submit">Submit</button>
    </form>
  </div>

  <!-- Development Team Section -->
  <div class="team-members">
    <div class="member">
      <div
        class="avatar"
        style="background-image: url('{% static 'esther.png' %}')"
      ></div>
      <p>Esther</p>
    </div>
    <div class="member">
      <div
        class="avatar"
        style="background-image: url('{% static 'karolina.png' %}')"
      ></div>
      <p>Karolina</p>
    </div>
    <div class="member">
      <div
        class="avatar"
        style="background-image: url('{% static 'sabrina.png' %}')"
      ></div>
      <p>Sabrina</p>
    </div>
    <div class="member">
      <div
        class="avatar"
        style="background-image: url('{% static 'shreyas.png' %}')"
      ></div>
      <p>Shreyas</p>
    </div>
    <div class="member">
      <div
        class="avatar"
        style="background-image: url('{% static 'aakrishtaa.png' %}')"
      ></div>
      <p>Aakrishtaa</p>
    </div>
  </div>
</div>

<style>
    .star {
        font-size: 24px;
        color: gray;
        cursor: pointer;
    }
    .star.filled {
        color: gold;
    }
  </style>
  
  <script>
      document.addEventListener("DOMContentLoaded", function () {
          const stars = document.querySelectorAll(".star");
          const ratingInput = document.querySelector('input[name="rating"]');
          let selectedRating = 0;
  
          function fillStars(rating) {
              stars.forEach((star) => {
                  star.classList.toggle("filled", star.getAttribute("data-value") <= rating);
              });
          }
  
          stars.forEach((star) => {
              star.addEventListener("mouseenter", function () {
                  const hoverRating = this.getAttribute("data-value");
                  fillStars(hoverRating);
              });
  
              star.addEventListener("mouseleave", function () {
                  fillStars(selectedRating);
              });
  
              // Click event to set the rating
              star.addEventListener("click", function () {
                  selectedRating = this.getAttribute("data-value");
                  ratingInput.value = selectedRating;
                //   console.log("Rating set to:", selectedRating);
                  fillStars(selectedRating); 
              });
          });
  
          // Display an alert if feedback was successfully submitted
          const urlParams = new URLSearchParams(window.location.search);
          if (urlParams.get("submitted") === "true") {
              alert("Feedback submitted!");
          }
      });
  </script>

{% endblock %}
